<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="How to create your own Webserver with apache on Raspberry Pi, virtual hosts with apache, webserver with apache, how to host a website on raspberry pi, host website with apache, raspberry pi biginner project" />
        <meta name="author" content="" />
        <title>How to create a webserver on a raspberry pi?</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/duluk.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1826192715996901"
            crossorigin="anonymous">
        </script>
        <link rel="alternate" href="https://duluk.ch" hreflang="en-us" />
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container px-5">
                    <a class="navbar-brand" href="index.html">IT-Duluk</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Projects</a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                                    <li><a class="dropdown-item" href="blog-home.html">All Projects</a></li>
                                    <li><a class="dropdown-item" href="allWindows.html">Windows</a></li>
                                    <li><a class="dropdown-item" href="allLinux.html">Linux</a></li>
                                    <li><a class="dropdown-item" href="allRaspberryPi.html">Raspberry Pi</a></li>
                                    <li><a class="dropdown-item" href="allPython.html">Python</a></li>
                                    <li><a class="dropdown-item" href="allDocker.html">Docker</a></li>
                                    <li><a class="dropdown-item" href="allPowerShell.html">PowerShell</a></li>
                                </ul>
                            </li>
                            <li class="nav-item"><a class="nav-link" href="pricing.html">Courses</a></li>
                            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                            <!--
                            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                            <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Portfolio</a>
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownPortfolio">
                                    <li><a class="dropdown-item" href="portfolio-overview.html">Portfolio Overview</a></li>
                                    <li><a class="dropdown-item" href="portfolio-item.html">Portfolio Item</a></li>
                                </ul>
                            </li> -->
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- Page Content-->
            <section class="py-5">
                <div class="container px-5 my-5">
                    <div class="row gx-5">
                        <!--<div class="col-lg-3">
                            <div class="d-flex align-items-center mt-lg-5 mb-4">
                                <img class="img-fluid rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." />
                                <div class="ms-3">
                                    <div class="fw-bold">Valerie Luna</div>
                                    <div class="text-muted">News, Business</div>
                                </div>
                            </div>
                        </div>-->
                        <div class="col-lg-9">
                            <!-- Post content-->
                            <article>
                                <!-- Post header-->
                                <header class="mb-4">
                                    <!-- Post title-->
                                    <h1 class="fw-bolder mb-1">How to create your own Webserver with Apache on Raspberry Pi?</h1>
                                    <!-- Post meta content-->
                                    <div class="text-muted fst-italic mb-2">December 27, 2022</div>
                                    <!-- Post categories-->
                                    <a class="badge bg-secondary text-decoration-none link-light" href="allRaspberryPi.html">RaspberryPi</a>
                                    <a class="badge bg-secondary text-decoration-none link-light" href="allLinux.html">Linux</a>
                                </header>
                                <!-- Preview image figure
                                <figure class="mb-4"><img class="img-fluid rounded" src="https://dummyimage.com/900x400/ced4da/6c757d.jpg" alt="..." /></figure>
                                -->
                                <!-- Post content-->
                                <section class="mb-5">
                                    <h2 class="fw-bolder mb-4 mt-5">General</h2>
                                    <p class="fs-5 mb-4">This setup should also work with Linux. This tutorial does not explain how to set up a Raspberry Pi OS or Linux. <br>I use a Raspberry Pi OS 64-bit Lite</p>
                                    <h2 class="fw-bolder mb-4 mt-5">How to install Apache?</h2>
                                    <h3>Installation</h3>
                                    <p class="fs-5 mb-4">Before the installation of Apache make sure your system is up to date and you have ufw installed:<pre>sudo apt-get update<br>sudo apt-get install ufw<br>sudo apt-get install apache2<br>sudo apt-get update <br>sudo apt-get upgrade</pre></p>
                                    <h3 class="mb-4 mt-5">Configuration information</h3>
                                    <p class="fs-5 mb-4"><code>apache2.conf</code>: the main Apache2 configuration file. Contains settings that are global to Apache2.<br><code>httpd.conf</code>: historically the main Apache2 configuration file, named after the httpd daemon. In other distributions (or older versions of Ubuntu), the file might be present. In Ubuntu, all configuration options have been moved to apache2.conf and the below referenced directories, and this file no longer exists.<br><code>conf-available</code>: this directory contains available configuration files. All files that were previously in <code>/etc/apache2/conf.dshould</code> be moved to <code>/etc/apache2/conf-available</code><br><code>conf-enabled</code>: holds symlinks to the files in <code>/etc/apache2/conf-available</code>. When a configuration file is symlinked, it will be enabled the next time apache2 is restarted.<br><code>envvars</code>: file where Apache2 environment variables are set.<br><code>mods-available</code>: this directory contains configuration files to both load modules and configure them. Not all modules will have specific configuration files, however.<br><code>ports.conf</code>: houses the directives that determine which TCP ports Apache2 is listening on.<br><code>sites-available</code>: this directory has configuration files for Apache2 Virtual Hosts. Virtual Hosts allow Apache2 to be configured for multiple sites that have separate configurations.<br><code>sites-available</code>: this directory has configuration files for Apache2 Virtual Hosts. Virtual Hosts allow Apache2 to be configured for multiple sites that have separate configurations.<br><code>magic</code>: instructions for determining MIME type based on the first few bytes of a file</p>
                                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1826192715996901"
                                        crossorigin="anonymous"></script>
                                    <!-- VertikalDesktop01 -->
                                    <ins class="adsbygoogle"
                                        style="display:block"
                                        data-ad-client="ca-pub-1826192715996901"
                                        data-ad-slot="6392072436"
                                        data-ad-format="auto"
                                        data-full-width-responsive="true"></ins>
                                    <script>
                                        (adsbygoogle = window.adsbygoogle || []).push({});
                                    </script>
                                    <h2 class="fw-bolder mb-4 mt-5">Configure Firewall</h2>
                                    <p class="fs-5 mb-4">During installation, Apache registers with UFW to provide some application profiles that can be used to enable or disable access to Apache through the firewall. For more information see <a href="https://duluk.ch/linux001.html">Setup UFW</a><br>List the application profiles <code>ufw</code> by entering the following:<br><pre>sudo ufw app list</pre><p class="fs-5 mb-4"><code>Apache</code>: This profile opens only port 80 (normal, non-encrypted web traffic).<br><code>Apache Full</code>: This profile opens both port 80 (normal, unencrypted web traffic) and port 443 (traffic encrypted with TLS/SSL).<br><code>Apache Secure</code>: This profile opens only port 443 (traffic encrypted with TLS/SSL).<br><br>It is recommended to enable the most restrictive profile that still allows the traffic you have configured. Since we have not yet configured SSL for our server in this guide, we only need to allow traffic on port 80:It is recommended to enable the most restrictive profile that still allows the traffic you have configured. Since we have not yet configured SSL for our server in this guide, we only need to allow traffic on port 80:<pre>sudo ufw allow 'Apache'</pre><p class="fs-5 mb-4">after it you should check the rules:<pre>sudo ufw status verbose</pre><p class="fs-5 mb-4">you may need to reboot your system for the rule to take effect<pre>sudo reboot</pre></p>
                                    <h2 class="fw-bolder mb-4 mt-5">Test your webserver</h2>
                                    <p class="fs-5 mb-4">Check if the apache2 webserver runs: <pre>sudo systemctl status apache2</pre><p class="fs-5 mb-4">Now it’s time for the real test:<br>-go to the browser of your choice and search http://your_server_ip<br>-if you don’t know your ip enter the following command:<pre>#couple of addresses seperate by space<br>hostname -I<br><br>#or your public ip<br>curl -4 icanhazip.com</pre><p class="fs-5 mb-4">The default webpage should look like this:<img src="assets/Raspberry001.png" class="responsive"></p>
                                    <h2 class="fw-bolder mb-4 mt-5">Manage apache</h2>
                                    <p class="fs-5 mb-4"><pre>#stop webserver<br>sudo systemctl stop apache2<br><br>#start webserver<br>sudo systemctl start apache2<br><br>#restart webserver<br>sudo systemctl restart apache2<br><br>#reload apache to take affect of configuration changes, maybe it need a restart<br>sudo systemctl reload apache2<br><br>#by default apache start automaticly after booting the server th disable it use<br>sudo systemctl disable apache2<br><br>#to reactivate automaticly start after boot use<br>sudo systemctl enable apache2</pre></p>
                                    <h2 class="fw-bolder mb-4 mt-5">How to use a virtual hosts with apache?</h2>
                                    <h3>Configure virtual host</h3>
                                    <p class="fs-5 mb-4">If you are using the Apache web server, you can use virtual hosts (similar to server blocks in Nginx) to include configuration information and host more than one domain on a single server. We set up a domain named <code>your_domain</code>, but you should replace that name with your own domain name.<br><br>Apache on Ubuntu 20.04 has a server block that is enabled by default and configured to serve documents from the <code>/var/www/html</code> directory. This works well for one site, but can become cumbersome if you are hosting multiple sites. Instead of changing <code>/var/www/html</code>, we create a directory structure within <code>/var/www</code> for a site your_domain, leaving <code>/var/www/html</code> as the default directory that is provided when a client request has no matching sites.<br><br> Create the directory for your_domain<pre>sudo mkdir /var/www/your_domain</pre><p class="fs-5 mb-4">Next, assign ownership to the directory using the $USER environment variable:<pre>sudo chown -R $USER:$USER /var/www/your_domain</pre><p class="fs-5 mb-4">Your web root permissions should be correct if you have not changed your umask value, which sets the default file permissions. To ensure that your permissions are correct and the owner can read, write, and execute the files, while groups and others are granted read-only and execute-only permissions, you can enter the following command:<pre>sudo chmod -R 755 /var/www/your_domain</pre><p class="fs-5 mb-4">Next create a example website with the text editor of your choice in our case <code>nano</code><pre>sudo nano /var/www/your_domain/index.html</pre><p class="fs-5 mb-4">Now you can add your custom html code or use our little test template:<pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;title&gt;Welcome to Your_domain!&lt;/title&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h1&gt;Yeah! The your_domain virtual host is working! Keep going and never lose your motivation...&lt;/h1&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;</pre><p class="fs-5 mb-4">safe and close: <code>ctrl + x</code> for exit <code>y</code> for yes and finally hit enter</p>
                                    <p class="fs-5 mb-4">You need to create a virtual host file with the correct policies so that Apache can serve this content. Instead of changing the default configuration file directly in <code>/etc/apache2/sites-available/000-default.conf</code>, create a new one in <code>/etc/apache2/sites-available/your_domain.conf</code>:<pre>sudo nano /etc/apache2/sites-available/your_domain.conf</pre><p class="fs-5 mb-4">Add the following configuration block, which is similar to the default but updated for the new directory and domain name:<pre>&lt;VirtualHost *:80&gt;<br>    ServerAdmin webmaster@localhost<br>    ServerName your_domain<br>    ServerAlias www.your_domain<br>    DocumentRoot /var/www/your_domain<br>    ErrorLog ${APACHE_LOG_DIR}/error.log<br>    CustomLog ${APACHE_LOG_DIR}/access.log combined<br>&lt;/VirtualHost&gt;</pre><p class="fs-5 mb-4">You will notice that we have updated <code>DocumentRoot</code> to our new directory and <code>ServerAdmin</code> to an email that can be accessed by the site admin of <code>your_domain</code>. We also added two policies: <code>ServerName</code>, which defines the base domain that should match this virtual host definition, and <code>ServerAlias</code>, which defines other names that should match like the base name.<br>After you finish safe and close: <code>ctrl + x</code> for exit then <code>y</code> for yes and finally hit enter<br>Now activate the file with the tool a2ensite: <pre>sudo a2ensite your_domain.conf</pre><p class="fs-5 mb-4">Disable the default site defined under 000-default.conf:<pre>sudo a2dissite 000-default.conf</pre><p class="fs-5 mb-4">Next test configuration errors:<pre>sudo apache2ctl configtest</pre><p class="fs-5 mb-4">You should see the following output:<pre>Output<br>Syntax OK</pre><p class="fs-5 mb-4">Restart Apache to deploy your configurations:<pre>sudo systemctl restart apache2</pre><p class="fs-5 mb-4">Apache should now be set up for your domain name. You can test this by navigating to <code>http://your_domain</code>, where you should see something similar to the following:<img src="assets/raspberry002.png" class="responsive"></p>
                                </section>
                            </article>
                            <!-- Comments section-->
                            <!--<section>
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <!- Comment form->
                                        <form class="mb-4"><textarea class="form-control" rows="3" placeholder="Join the discussion and leave a comment!"></textarea></form>
                                        <!-- Comment with nested comments->
                                        <div class="d-flex mb-4">
                                            <!-- Parent comment->
                                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                            <div class="ms-3">
                                                <div class="fw-bold">Commenter Name</div>
                                                If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks.
                                                <!-- Child comment 1->
                                                <div class="d-flex mt-4">
                                                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                                    <div class="ms-3">
                                                        <div class="fw-bold">Commenter Name</div>
                                                        And under those conditions, you cannot establish a capital-market evaluation of that enterprise. You can't get investors.
                                                    </div>
                                                </div>
                                                <!-- Child comment 2->
                                                <div class="d-flex mt-4">
                                                    <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                                    <div class="ms-3">
                                                        <div class="fw-bold">Commenter Name</div>
                                                        When you put money directly to a problem, it makes a good headline.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Single comment->
                                        <div class="d-flex">
                                            <div class="flex-shrink-0"><img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." /></div>
                                            <div class="ms-3">
                                                <div class="fw-bold">Commenter Name</div>
                                                When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>-->
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto"><div class="small m-0 text-white">Copyright 2022 &copy; Duluk. All rights Reserved.</div></div>
                    <div class="col-auto">
                        <a class="link-light small" href="privacy.html">Privacy</a>
                        <span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="#!">Contact</a>
                        <!--<span class="text-white mx-1">&middot;</span>
                        <a class="link-light small" href="#!">Contact</a> -->
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
